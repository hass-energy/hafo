# Configuration

HAFO creates forecast helpers through the Home Assistant UI.

## Creating a Forecast Helper

1. Go to **Settings** → **Devices & Services**
2. Click **Add Integration**
3. Search for **HAFO** (Home Assistant Forecaster)
4. Fill in the configuration:

| Field         | Description                           | Default          |
| ------------- | ------------------------------------- | ---------------- |
| Source Entity | The sensor to generate a forecast for | -                |
| History Days  | Number of days of history to use      | 7                |
| Forecast Type | The forecasting algorithm             | Historical Shift |

1. Click **Submit**

## Configuration Options

### Source Entity

The sensor entity you want to create a forecast for.
This can be any sensor that has numerical values and historical data in the recorder.

**Supported entity domains:**

- `sensor` - Any sensor with numerical state
- `input_number` - Input number helpers

### History Days

How many days of historical data to use for the forecast.
The forecast is generated by shifting this history forward in time.

| History Days | Best For                                         |
| ------------ | ------------------------------------------------ |
| 1-3          | Highly variable data, recent patterns only       |
| 7 (default)  | Weekly patterns (weekday vs weekend differences) |
| 14-30        | Longer-term averaging, smoothing out anomalies   |

**Example:** With `history_days: 7`, the power usage from last Monday 2pm
becomes the forecast for next Monday 2pm.

### Forecast Type

Currently, HAFO supports one forecasting algorithm:

- **Historical Shift** - Shifts historical data forward by N days and cycles to fill the horizon

More forecasting algorithms may be added in future releases.

## Modifying Settings

To change the configuration after creation:

1. Go to **Settings** → **Devices & Services**
2. Find HAFO and click **Configure**
3. Adjust the settings
4. Click **Submit**

## Multiple Forecasters

You can create multiple forecast helpers for different entities.
Each helper is independent and can have different settings.
